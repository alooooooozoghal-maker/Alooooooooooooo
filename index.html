<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ùˆ Ø°ØºØ§Ù„ | Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ†</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#050505">
    <link rel="icon" href="https://raw.githubusercontent.com/aloozoghal-hash/alozoghal/main/8f6dcedf3dc3dbaa82c0df548bd962c9.jpg">
    <style>
        @import url('https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css');
        :root { --fire: #ff4d00; --gold: #e2b04a; --bg: #050505; --royal: #ffd700; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Vazirmatn', sans-serif; }

        body {
            background: var(--bg); color: #fff; min-height: 100vh;
            background-image: radial-gradient(circle at 50% 0%, #3a1100 0%, #050505 80%);
            display: flex; flex-direction: column; align-items: center; padding: 15px;
        }

        /* Ù…ØªÙ† Ù…ØªØ­Ø±Ú© Ø¨Ø§ Ø§ÙÚ©Øª Ú†Ø´Ù…Ú©â€ŒØ²Ù† */
        .ticker-container {
            width: 100%; background: rgba(226, 176, 74, 0.1); border: 1px solid var(--gold);
            border-radius: 50px; overflow: hidden; white-space: nowrap; padding: 10px; margin-bottom: 20px;
            box-shadow: 0 0 15px rgba(226, 176, 74, 0.2);
        }
        .ticker-text {
            display: inline-block; animation: marquee 20s linear infinite; color: var(--gold);
            font-weight: bold; text-shadow: 0 0 5px var(--fire);
        }
        @keyframes marquee { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }

        /* Ø§Ø³ØªÙˆØ±ÛŒâ€ŒÙ‡Ø§ */
        .stories-wrapper {
            display: flex; gap: 15px; overflow-x: auto; width: 100%; max-width: 450px;
            padding: 10px 5px; scrollbar-width: none; margin-bottom: 20px;
        }
        .story-item { min-width: 75px; cursor: pointer; text-align: center; }
        .story-ring {
            width: 70px; height: 70px; border-radius: 50%; padding: 3px;
            background: linear-gradient(45deg, #f09433, #e2b04a, #dc2743);
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 10px rgba(226, 176, 74, 0.4);
        }
        .story-ring img { width: 100%; height: 100%; border-radius: 50%; border: 2px solid #000; object-fit: cover; }
        .story-item span { font-size: 11px; color: #eee; margin-top: 5px; display: block; }

        /* Ù…ÙˆØ¯Ø§Ù„ Ø§Ø³ØªÙˆØ±ÛŒ (Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…ÛŒ) */
        #story-modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 9999; flex-direction: column; justify-content: center; align-items: center;
        }
        .story-content { position: relative; width: 100%; max-width: 450px; height: 80vh; border-radius: 15px; overflow: hidden; }
        .story-img { width: 100%; height: 100%; object-fit: cover; }
        .story-progress-container { position: absolute; top: 15px; left: 5%; width: 90%; display: flex; gap: 5px; z-index: 10; }
        .story-progress-bg { flex: 1; height: 3px; background: rgba(255,255,255,0.3); border-radius: 2px; overflow: hidden; }
        .story-progress-fill { height: 100%; width: 0%; background: #fff; }
        .story-close { position: absolute; top: 25px; right: 20px; font-size: 30px; color: #fff; cursor: pointer; z-index: 11; }
        .story-info { position: absolute; bottom: 0; left: 0; width: 100%; padding: 30px 20px; background: linear-gradient(transparent, rgba(0,0,0,0.9)); text-align: center; }
        .btn-call-story { background: #25D366; color: white; padding: 12px 25px; border-radius: 50px; text-decoration: none; font-weight: bold; display: inline-block; margin-top: 10px; box-shadow: 0 4px 15px rgba(37, 211, 102, 0.4); }

        /* Ø·Ø±Ø§Ø­ÛŒ Ø¨Ø±Ù†Ø¯ÛŒÙ†Ú¯ */
        .logo-area { text-align: center; margin-bottom: 25px; }
        .main-logo { width: 110px; height: 110px; border-radius: 50%; border: 3px solid var(--gold); box-shadow: 0 0 25px rgba(226,176,74,0.6); }
        .brand-container { display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 10px; }
        .fire-anim { font-size: 28px; animation: heat 1s infinite alternate; }
        @keyframes heat { from { transform: scale(1); filter: brightness(1); } to { transform: scale(1.3); filter: brightness(1.5) drop-shadow(0 0 10px orange); } }
        
        /* Ú©Ø§Ø±Øª Ø³ÙØ§Ø±Ø´ */
        .order-card {
            width: 100%; max-width: 400px; background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 30px; padding: 25px; box-shadow: 0 15px 35px rgba(0,0,0,0.5);
        }
        .input-group { margin-bottom: 18px; text-align: right; }
        label { display: block; margin-bottom: 8px; color: #bbb; font-size: 13px; }
        input, textarea { width: 100%; padding: 14px; background: rgba(0,0,0,0.6); border: 1px solid #333; border-radius: 12px; color: #fff; outline: none; }
        input:focus { border-color: var(--gold); }

        .qty-box { display: flex; align-items: center; justify-content: space-between; background: #000; border-radius: 15px; padding: 10px; border: 1px solid #444; margin-top: 10px; }
        .qty-btn { width: 40px; height: 40px; border-radius: 10px; border: none; background: var(--gold); color: #000; font-size: 22px; cursor: pointer; }

        .btn { width: 100%; padding: 16px; border: none; border-radius: 15px; font-weight: bold; cursor: pointer; margin-top: 12px; font-size: 15px; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .btn-gold { background: linear-gradient(135deg, var(--gold), #b8860b); color: #000; }
        .btn-tg { background: #0088cc; color: #fff; }
        .btn-sms { background: #ff9800; color: #fff; }

        #installBanner { position: fixed; bottom: 20px; background: rgba(20,20,20,0.95); border: 1px solid var(--gold); width: 90%; max-width: 380px; padding: 15px; border-radius: 20px; display: none; z-index: 5000; }
    </style>
</head>
<body>

    <div class="ticker-container">
        <div class="ticker-text" id="tickerBox">ğŸ”¥ Ø§Ù„Ùˆ Ø°ØºØ§Ù„: Ù…Ø±ØºÙˆØ¨â€ŒØªØ±ÛŒÙ† Ø°ØºØ§Ù„ Ú©Ø¨Ø§Ø¨ÛŒ Ø¨Ø§ Ø§Ø±Ø³Ø§Ù„ Ø¨Ø±Ù‚â€ŒØ¢Ø³Ø§ Ø¯Ø± Ø§ÛŒØ°Ù‡ ğŸ”¥</div>
    </div>

    <div class="stories-wrapper" id="storiesList"></div>

    <div class="logo-area">
        <img src="https://raw.githubusercontent.com/aloozoghal-hash/alozoghal/main/8f6dcedf3dc3dbaa82c0df548bd962c9.jpg" class="main-logo">
        <div class="brand-container">
            <span class="fire-anim">ğŸ”¥</span>
            <h1 style="color:var(--gold); font-size: 30px;">Ø§Ù„Ùˆ Ø°ØºØ§Ù„</h1>
            <span class="fire-anim">ğŸ”¥</span>
        </div>
        <p style="color: var(--royal); font-size: 14px; margin-top: 5px;">Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† Ùˆ Ø³Ø±ÛŒØ¹ Ø°ØºØ§Ù„</p>
    </div>

    <div class="order-card" id="appFrame">
        <div id="formView">
            <div class="input-group">
                <label>ğŸ‘¤ Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ:</label>
                <input type="text" id="custName" oninput="checkSecret(this.value)" placeholder="Ø¨Ø±Ø§ÛŒ Ù…Ø«Ø§Ù„: Ø¹Ù„ÛŒ Ù†Ø§Ø¯Ø±ÛŒØ§Ù†">
            </div>
            <div class="input-group">
                <label>ğŸ“± Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³:</label>
                <input type="tel" id="custPhone" placeholder="0916...">
            </div>
            <div class="input-group">
                <label>ğŸ  Ø¢Ø¯Ø±Ø³ Ù…Ø­Ù„Ù‡/Ú©ÙˆÚ†Ù‡:</label>
                <textarea id="custAddr" rows="2" placeholder="Ø¢Ø¯Ø±Ø³ Ø¯Ù‚ÛŒÙ‚ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒÚ©..."></textarea>
            </div>
            <button class="btn" style="background: #333; color: #eee;" onclick="fetchGPS()">ğŸ“ Ø«Ø¨Øª Ù„ÙˆÚ©ÛŒØ´Ù† (GPS)</button>

            <div class="qty-box">
                <span style="font-size: 14px;">Ø°ØºØ§Ù„ Ú©Ø¨Ø§Ø¨ÛŒ (Û¶Ûµ,Û°Û°Û° Øª)</span>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <button class="qty-btn" onclick="updateCount(-1)">-</button>
                    <b id="countDisplay">1</b>
                    <button class="qty-btn" onclick="updateCount(1)">+</button>
                </div>
            </div>

            <button class="btn btn-gold" onclick="renderInvoice()">âœ¨ Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙØ§Ú©ØªÙˆØ± Ùˆ Ø«Ø¨Øª Ù†Ù‡Ø§ÛŒÛŒ</button>

            <a href="https://aloozoghal-hash.github.io/-Mir-mir-/" style="display:block; margin-top:20px; text-decoration:none; color:var(--gold); text-align:center; border:1px dashed var(--gold); padding:10px; border-radius:10px;">
                ğŸ† Ú†Ø§Ù„Ø´ Ø±Ùˆ Ø¨Ø¨Ø± Û³ Ú©ÛŒØ³Ù‡ Ø°ØºØ§Ù„ Ø¬Ø§ÛŒØ²Ù‡ Ø¨Ú¯ÛŒØ±
            </a>
        </div>

        <div id="invoiceView" style="display: none;">
            <h3 style="color:var(--gold); text-align:center; margin-bottom:15px;">ğŸ“‘ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ± Ø³ÙØ§Ø±Ø´</h3>
            <div id="invDetails" style="font-size: 14px; line-height: 2; border-bottom: 1px solid #444; padding-bottom: 15px;"></div>
            <button class="btn btn-tg" id="tgBtn" onclick="sendTelegram()">ğŸš€ Ø«Ø¨Øª Ø¢Ù†ÛŒ Ø¯Ø± ØªÙ„Ú¯Ø±Ø§Ù…</button>
            <button class="btn btn-sms" onclick="sendSMS()">ğŸ“© Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú© Ø¨Ù‡ Ù…Ø¯ÛŒØ±</button>
            <button class="btn" style="background:#25D366; color:#fff;" onclick="sendWhatsApp()">ğŸŸ¢ Ø§Ø±Ø³Ø§Ù„ Ø¯Ø± ÙˆØ§ØªØ³Ø§Ù¾</button>
            <button class="btn" style="background:#444;" onclick="backToEdit()">Ø§ØµÙ„Ø§Ø­ Ø³ÙØ§Ø±Ø´</button>
        </div>
    </div>

    <div id="story-modal">
        <div class="story-progress-container" id="progressContainer"></div>
        <span class="story-close" onclick="closeStories()">&times;</span>
        <div class="story-content">
            <img id="storyImg" class="story-img">
            <div class="story-info">
                <h3 id="storyTitle" style="color: var(--gold);"></h3>
                <p id="storyDesc" style="font-size: 13px; color: #ccc; margin: 10px 0;"></p>
                <a id="storyCall" class="btn-call-story">ğŸ“ ØªÙ…Ø§Ø³ Ù…Ø³ØªÙ‚ÛŒÙ…</a>
            </div>
        </div>
    </div>

    <div id="adminPanel" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); z-index:10000; padding:20px; overflow-y:auto;">
        <h2 style="color:var(--gold)">ğŸ›  Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ú¯Ù‡ÛŒ Ùˆ ØªÛŒÚ©Ø±</h2>
        <input type="text" id="admTicker" placeholder="Ù…ØªÙ† Ù…ØªØ­Ø±Ú© Ø¬Ø¯ÛŒØ¯" style="margin-top:20px;">
        <hr style="margin:20px 0; opacity:0.2;">
        <input type="text" id="admTitle" placeholder="Ø§Ø³Ù… Ú©Ø³Ø¨ Ùˆ Ú©Ø§Ø±">
        <input type="text" id="admDesc" placeholder="ØªÙˆØ¶ÛŒØ­ Ø¢Ú¯Ù‡ÛŒ">
        <input type="text" id="admImg" placeholder="Ù„ÛŒÙ†Ú© Ø¹Ú©Ø³ Ø§Ø³ØªÙˆØ±ÛŒ">
        <input type="text" id="admPhone" placeholder="Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³">
        <button class="btn btn-gold" onclick="makeJSON()">ØªÙˆÙ„ÛŒØ¯ Ú©Ø¯ JSON</button>
        <textarea id="jsonBox" rows="6" style="margin-top:15px; font-size:11px;" readonly></textarea>
        <button class="btn" style="background:#8b0000;" onclick="location.reload()">Ø®Ø±ÙˆØ¬</button>
    </div>

    <div id="installBanner">
        <div style="display:flex; align-items:center; gap:12px;">
            <img src="https://raw.githubusercontent.com/aloozoghal-hash/alozoghal/main/8f6dcedf3dc3dbaa82c0df548bd962c9.jpg" width="50" style="border-radius:10px;">
            <div style="flex:1; font-size:13px;"><b>Ù†ØµØ¨ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ø§Ù„Ùˆ Ø°ØºØ§Ù„</b><br>Ø¨Ø±Ø§ÛŒ Ø³ÙØ§Ø±Ø´ Ø³Ø±ÛŒØ¹â€ŒØªØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯</div>
            <button onclick="doInstall()" style="background:var(--gold); border:none; padding:8px 15px; border-radius:8px; font-weight:bold;">Ù†ØµØ¨</button>
        </div>
    </div>

    <footer style="margin-top:40px; text-align:center; padding:20px; border-top:1px solid #222;">
        <p style="font-size:13px; color:#aaa; line-height:1.8;">Ø§Ù„Ùˆ Ø°ØºØ§Ù„ Ø§Ø² Ø¯Ù„ Ø§ÛŒØ°Ù‡ Ø¨Ø±Ø§ÛŒ Ø³ÙØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø§ØµÙØ§ÛŒ Ø´Ù…Ø§. Ù‡Ø¯Ù Ù…Ø§ Ø±Ø³Ø§Ù†Ø¯Ù† Ù…Ø±ØºÙˆØ¨â€ŒØªØ±ÛŒÙ† Ø°ØºØ§Ù„ Ú©Ø¨Ø§Ø¨ Ø¯Ø± Ú©Ù…ØªØ±ÛŒÙ† Ø²Ù…Ø§Ù† Ø§Ø³Øª.</p>
        <p style="color:var(--gold); font-size:12px; margin-top:10px;">ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª | Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ°Ù‡</p>
    </footer>

    <script>
        let itemsCount = 1;
        let gpsData = "";
        let adsData = [];
        let currentStoryIdx = 0;
        let storyTimer;
        const GOOGLE_BRIDGE_URL = "https://script.google.com/macros/s/AKfycbyLQjEqmjs5Re2m7nf3lGU_IZQU0ILuFgiJWxrEQ306AgUy1zW090quuwv1QLWVOQyV/exec";

        // Ø³ÛŒØ³ØªÙ… Ø§Ø³ØªÙˆØ±ÛŒ
        async function loadAds() {
            try {
                const res = await fetch('ads.json');
                const data = await res.json();
                if(data.ticker) document.getElementById('tickerBox').innerText = data.ticker;
                adsData = data.ads;
                const list = document.getElementById('storiesList');
                adsData.forEach((ad, idx) => {
                    list.innerHTML += `
                        <div class="story-item" onclick="openStories(${idx})">
                            <div class="story-ring"><img src="${ad.img}"></div>
                            <span>${ad.title}</span>
                        </div>`;
                });
            } catch(e) { console.log("Ads Load Error"); }
        }

        function openStories(idx) {
            currentStoryIdx = idx;
            document.getElementById('story-modal').style.display = 'flex';
            showStory();
        }

        function showStory() {
            clearTimeout(storyTimer);
            const ad = adsData[currentStoryIdx];
            document.getElementById('storyImg').src = ad.img;
            document.getElementById('storyTitle').innerText = ad.title;
            document.getElementById('storyDesc').innerText = ad.desc;
            document.getElementById('storyCall').href = `tel:${ad.phone}`;

            // Ù†ÙˆØ§Ø± Ù¾ÛŒØ´Ø±ÙØª
            const progContainer = document.getElementById('progressContainer');
            progContainer.innerHTML = '';
            adsData.forEach((_, i) => {
                const fillWidth = i < currentStoryIdx ? '100%' : (i === currentStoryIdx ? '0%' : '0%');
                progContainer.innerHTML += `<div class="story-progress-bg"><div class="story-progress-fill" id="fill-${i}" style="width:${fillWidth}"></div></div>`;
            });

            const currentFill = document.getElementById(`fill-${currentStoryIdx}`);
            let width = 0;
            const interval = setInterval(() => {
                width += 1;
                currentFill.style.width = width + '%';
                if (width >= 100) {
                    clearInterval(interval);
                    nextStory();
                }
            }, 100); // 10 Ø«Ø§Ù†ÛŒÙ‡ (100 * 100ms)

            storyTimer = interval;
        }

        function nextStory() {
            if (currentStoryIdx < adsData.length - 1) {
                currentStoryIdx++;
                showStory();
            } else {
                closeStories();
            }
        }

        function closeStories() {
            clearInterval(storyTimer);
            document.getElementById('story-modal').style.display = 'none';
        }

        // Ù…Ø¯ÛŒØ±ÛŒØª Ø³ÙØ§Ø±Ø´
        function updateCount(v) {
            itemsCount = Math.max(1, itemsCount + v);
            document.getElementById('countDisplay').innerText = itemsCount;
        }

        function fetchGPS() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(p => {
                    gpsData = `https://www.google.com/maps?q=${p.coords.latitude},${p.coords.longitude}`;
                    alert("âœ… Ù„ÙˆÚ©ÛŒØ´Ù† Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¶Ù…ÛŒÙ…Ù‡ Ø³ÙØ§Ø±Ø´ Ø´Ø¯.");
                });
            }
        }

        function checkSecret(val) {
            if(val === "Ø¹Ù„ÛŒ Ù†Ø§Ø¯Ø±ÛŒØ§Ù† 1362541") {
                document.getElementById('adminPanel').style.display = 'block';
            }
        }

        function renderInvoice() {
            const name = document.getElementById('custName').value;
            const phone = document.getElementById('custPhone').value;
            const addr = document.getElementById('custAddr').value;
            if(!name || !phone || !addr) return alert("Ù„Ø·ÙØ§ ØªÙ…Ø§Ù…ÛŒ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯");
            
            const total = itemsCount * 65000;
            window.finalMsg = `ğŸ›ï¸ Ø³ÙØ§Ø±Ø´ Ø¬Ø¯ÛŒØ¯ Ø§Ù„Ùˆ Ø°ØºØ§Ù„\nğŸ‘¤ Ù†Ø§Ù…: ${name}\nğŸ“ ØªÙ…Ø§Ø³: ${phone}\nğŸ“¦ Ù…Ù‚Ø¯Ø§Ø±: ${itemsCount} Ú©ÛŒØ³Ù‡ Ø°ØºØ§Ù„\nğŸ’° Ù…Ø¨Ù„Øº: ${total.toLocaleString()} ØªÙˆÙ…Ø§Ù†\nğŸ  Ø¢Ø¯Ø±Ø³: ${addr}\nğŸ“ Ù„ÙˆÚ©ÛŒØ´Ù†: ${gpsData || "Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡"}`;
            
            document.getElementById('invDetails').innerText = window.finalMsg;
            document.getElementById('formView').style.display = 'none';
            document.getElementById('invoiceView').style.display = 'block';
        }

        async function sendTelegram() {
            const btn = document.getElementById('tgBtn');
            btn.innerText = "â³ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„ Ø³ÛŒØ³ØªÙ…ÛŒ...";
            try {
                await fetch(GOOGLE_BRIDGE_URL, { method: 'POST', mode: 'no-cors', body: JSON.stringify({ message: window.finalMsg }) });
                alert("âœ… Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯!");
                location.reload();
            } catch(e) { alert("Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„."); }
        }

        function sendSMS() {
            const msg = encodeURIComponent(window.finalMsg);
            window.location.href = `sms:09220730628?body=${msg}`;
        }

        function sendWhatsApp() {
            window.open(`https://wa.me/989220730628?text=${encodeURIComponent(window.finalMsg)}`);
        }

        function backToEdit() {
            document.getElementById('formView').style.display = 'block';
            document.getElementById('invoiceView').style.display = 'none';
        }

        function makeJSON() {
            const data = {
                ticker: document.getElementById('admTicker').value,
                ads: [{
                    title: document.getElementById('admTitle').value,
                    desc: document.getElementById('admDesc').value,
                    img: document.getElementById('admImg').value,
                    phone: document.getElementById('admPhone').value
                }]
            };
            document.getElementById('jsonBox').value = JSON.stringify(data, null, 2);
        }

        // PWA
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            if(!localStorage.getItem('isAppInstalled')) document.getElementById('installBanner').style.display = 'block';
        });

        function doInstall() {
            deferredPrompt.prompt();
            deferredPrompt.userChoice.then(res => {
                if(res.outcome === 'accepted') {
                    localStorage.setItem('isAppInstalled', 'true');
                    document.getElementById('installBanner').style.display = 'none';
                }
            });
        }

        window.onload = loadAds;
    </script>
</body>
</html>
